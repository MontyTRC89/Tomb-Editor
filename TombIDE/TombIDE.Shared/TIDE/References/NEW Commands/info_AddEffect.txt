Syntax: AddEffect=Id, EffectType (ADD_), FlagsEffect (FADD_), JointType (JOINT_), DispX, DispY, DispZ, DurateEmit, DuratePause, Extra param array
Scope: to use in [Level] section
Max number of instances for level section: 99

AddEffect command is suggested only for advanced level builders.
Its more common usage is to have animcommands to use in animation editor (of wad merger program) to add particles effects to moveable only in specific moments (frame) of animation.
You can add: blood, flame, smoke and mist (like waterfall mist)
Theorically you can use add effect also like common triggers anyway the better usage is to convert the trigger in animcommand and then add it in animation of moveable.

Remark: from 1.2.2.4 version, you can add effects to static items, too.
When you add effects to statis some fields will be ignored and you can't apply it using a anim command, of course.
Arguments:

Id Field
--------
This is a simple identifier of what addeffect command of script file you refer in trigger windows. It works like first argument of PuzzleItem or PuzzleCombo commands.
For example if you type "1" this means you'll refer to this addeffect in trigger window choosing 1 like effect to add.
About valid range for id is 1/999 and the max number of instances is 99

EffectType
----------
You set in this field the ADD_ constant to choose the effect type to add. You find the full list in reference panel of ng_center program.

FlagsEffect (FADD_...) field
----------------------------
You can use some flag effects (FADD_) to override other settings about durate or behavior of effect.
See the description of FADD_ constants in Reference panel of NG_Center

Remark: when you wish add current effect to a static item some flags will be ignored while others could cause a crash, so don't use them!
Flags to do not use with static items: FADD_DURATE_ANIMATION, FADD_DURATE_STATEID, FADD_VORIENT_180, FADD_VORIENT_270, FADD_VORIENT_90


JointType (JOINT_...) field
---------------------------
Other to specify the type of effect you have to set also the exact position where to show this effect.
This compute is a bit complicated and you have to start from a point corresponding to some joint of moveable and then (see following fields DispX, DispY and DispZ) set the displacement from this joint you chose.
You can choose one of following joints:

Remark: if you add current effect to a static item this field will be ignored, since the statics have always only one mesh and no joint.

JOINT_SINGLE_MESH:0
JOINT_PUBIS:0
JOINT_LEFT_THIGH:1
JOINT_LEFT_KNEE:2
JOINT_LEFT_ANCKLE:3
JOINT_RIGHT_THIGH:4
JOINT_RIGHT_KNEE:5
JOINT_RIGHT_ANCKLE:6
JOINT_ABDOMEN:7
JOINT_NECK:8
JOINT_LEFT_SHOULDER:9
JOINT_LEFT_ELBOW:10
JOINT_LEFT_WRIST:11
JOINT_RIGHT_SHOULDER:12
JOINT_RIGHT_ELBOW:13
JOINT_RIGHT_WRIST:14

About the value JOINT_SINGLE_MESH (0), it will be used for moveable using a single mesh. In this situation the origin of effect will be the center of mesh (really the pivot but it's very often the center of single meshes)
Differently, when you want add a particle effect to multi-mesh moveables you have to set a joint like origin and then modify this origin with DispX, DispY and DispZ fields to create the effect in wished position.
See following field descriptions for more infos.

DispX, DispY, DispZ fields.
---------------------------
The three values DispX, DispY and DispZ are the distance between origin of effect you set in Joint field.
To understand how set these 3 values it's more easy to do an example.

If you want add smoke to lara's mouth (as breath) you should choose a joint near to target point, so we could choose the neck, i.e. the JOINT_NECK to type in joint field.

Then we should move this origin because we don't want the smoke in the neck but in upper and forward position.
To understand the axis X,Y,Z you can imaginate to watch lara while she has her face in front of you. (face to face)
Well, now the X,Y and Z axis have following orienting:

X Values will be negative at right hand of lara (but at your left) while the x values will become positive going to left hand of lara (but to your right)

Y Values will be negative when moving to head of lara (upward) while the Y values will be positive when moving to feet of lara (downstair)

Z Values will be positive when the direct is to your face (you are looking lara, do you remember?) while the z values will become negative go back to lara.

Following above orienting we could use these value to move the smoke in front of lara's mouth
Since we start from neck as origin, we should:

Move in front direction the smoke, because the mouth is put out of neck, so this regard the Z coord, and we'll use a positive values because the smoke will in front of lara and not back.
DispZ = +70

Then we need to move upward the smoke because the neck is down the mouth, since Y axe has negative values for upwards and positive values for downstair we could use value:
DispY = -70

About DispX we can let it to 0 because the neck and mouth are on same vertical line.

So we'll use the displacement:

JOINT_NECK, 0, -70, 70

and the smoke should be (about) in front of lara's mouth.

DurateEmit and DuratePause fields.
----------------------------------
For some effects, like smoke and blood, it's necessary alternate a phase of emitting particles with other phase of pause to perimit at particles to decay.
The values you type in above fields are number of frames.
For example if you insert as DurateEmit 3 and as DuratePause 10, the effect will be emitted for 3 consecutive frames and will be suspended for 10 frames.
Chaning these two values you can set the wished intensity of effect.

Some tip to set these two fields:
Fire and Smoke: it's better to use flag FADD_CONTINUE_EMIT  to have continue emit. In this case it's not important the values type in durate and pause emit fields because they will be ignored.
For blood: set 1 as emit and 30 for pause.
For mist: depend by result you want get. In some circustances also mist works fine with FADD_CONTINUE_EMIT flag, anyway if you want simulate sprays you can use  1 as emit and 3 as pause.

Extra Param array fields
------------------------
From this field you have optional fields changing in according with effect type.
Currently there are extra parameters only for mist and light effects.

Extra parameters for mist.
--------------------------
Extra1 = Size of mist ball. Default value is 12
Extra2 = Number of mist balls. Default is 1. You can set a max of 4 mist balls, they will be placer over an ideal line. The mist line will be oriented following facing of current moveable,anyway you can rotate the facing of mist line using rotate flags.
Extra3 = Color of mist. You can set a MIST_COL_ value. You find all colors in reference panel of NG_Center program
Extra4 = Persistence time of mist. Default value = 6. You should use this field only if the moveable is moving fastling and you want let a wake. Bigger values, longer wakes.

Extra Parameters for light effects
----------------------------------
Extra1 = Intensity of light. I don't know in detail the meaning of this value, anyway if you type bigger values you'll have most intense and widthness for your light. The light of flare has intensity = 16 and you should use values closed to this as reference. I presume it could be the number of sectors of distance reached by the light.
This value works for flat light and blink light but has no effect with spot-light.

Extra2 = Max distance for spot-light. This value works only for ADD_LIGHT_SPOT effect. The spot-light uses two 3d  points: the begin point and the end point of light cone. The first 3d point is the moveable where you added the spot, while the final point is last zone lighted by this spot computing SOurce + Distance in given direction (facing). The distance should be typed in sectors, for example the headlight of sidecar has 20 sectors of distance in default old tomb4 and it was the world far view. Anyway if you don't wish have a super power light it's better reduce this distance. If you type IGNORE in this field it will be used 12 sectors.

Extra3 = Color of the light. You can type in this field the same values MIST_COL ... constants, used for the mist effect.


Extra Parameters for ADD_FLAME effect
--------------------------------------
Extra1 = Intensity. The value for this field change fully in according with the presence or less of FADD_FIRE_STRIP 
flag.

When you use the fire strip, in Extra1 you should type a value between +1000 to -8000. A reasonable value is -4000.

While when you use a common single fire you should type 0, 1, or 2 where increasing the number the size of fire will be increased. 

Extra2 = Setting to burn Lara. 1 = it burns lara, 0 = no damage for Lara.

Extra3 = Setting vertical direction. 1=vertical / 0=horizontal
This field will be used only with FADD_FIRE_STRIP  flag.
If you want have the horizontal fire strip set 0 in this field.
While if you set 1 you get a fire eruction like  the fire of a (little) volcan



