OCB 1 = Add a mist wake
-----------------------
Unfortunately the two wakes you saw in Tomb3 game are not available in this trng version of the kayak.
The reason is very technical: the method used in tomb3 to create those two stripes, used some features not available in tomb4 engine.
Anyway you can add a little white mist under the kayak adding the value 1 in the OCB field.

OCB 2 = Accept an Animation to go on board whereby a jump
---------------------------------------------------------
By default, using the original code from Tomb Raider 3 adventure, Lara was able to go on board only from floating (on water) position.
The missing of other methods to go on board is a problem because when the kayak is in low water lara will be not able to use newly the kayak and for this reason it will be forbidden to go off (when it is in low water) to avoid the risk to "lose" our kayak forever.
The Mudubu tr3 level had been build to have always depth waters or other tricks to forbid to lara to go off from kayak in bad positions, like using the currents (sinks).
Anyway in our case we wish use the kayak in many different environments and for this reason it should be useful having other method to go on board since this allows to go off from boat in different situations, too.
Since I'm not able to build custom animations in the kayak object (you find this object in kayak.wad on http://www.trlevelmanager.eu/ng.htm in demos section) there is no animation to go on board with a jump, anyway I create the chance for you to add in a second time this custom animation.
Another way to describe above speech is this: if you don't add new animations to go on board, the kayak should be used ONLY in depth water because in other environment, like low waters or land, lara will be not able to leave (going off) the kayak and this situation could be frustrating for the player that didn't understand because he cann't leave the kayak in many circustances.

If you create a custom animation to enter on the kayak from upstairs with a jump, you should perform following operations:

1) Create a custom animation for KAYAK_LARA slot with the following features:

Create the animation with these data:

START POSITION: 
Pose of frame 39 of animation 77 of LARA slot
About the position is not possible have a perfect matching because we cann't know the horizontal speed or the exact falling angle, anyway you could place Lara about 150 units upper than Y origin of the kayak object and remember that the alignment position will be the center of kayak with z cord changed by -80, therefor pratically lara will be moved in following position before performing your animation 33:

Lara X = Kayak X
Lara Y = Current Lara Y (no change for Y coordinate)
Lara Z = Kayak Z - 80

About the facing it will be forced to be the same of kayak before executing your animation.


Remember that, the animation will be started when the collision box of Lara touches the collision box of Kayak and the position of Lara was compatible with the black hole of the kayak.

A suggestion is to perform a longer moving in vertical, for example moving  of 200 units in downstairs and about 80 in forwards, using a speed of movement alike that you see in animation 77 of LARA slot.

FINAL POSITION:
Pose and position of frame 176 of animation 3 of KAYAK_LARA slot

FACING:
Lara should have the same facing of the Kayak.
Remark: anyway, in the game, it will be accepted a little difference with a  tollerance of +/- 20 degrees.

ANIMATION EDITOR DATA:
Slot = KAYAK_LARA
Animation 33 (you have to add a new animation)
StateId = 4
Next Animation = 4

2) Create a custom animation also for KAYAK slot
When lara drives a vehicle all animations of the two slots work coupled and for this reason it's necessary that each couple of animation (same number of animation in the two slots) have always the same number of frames.

You could copy from KAYAK slot the animation 5.
This is good for our target because the kayak has a short rolling that we could use like the effect of the jump of Lara on board.
Then add a new animation in KAYAK slot and copy above animation in Animation 33 position.
It's important you add empty frames in this KAYAK animation 33 until to have same number of frames of Animation 33 you created in KAYAK_LARA slot.

In Animation editor set for this animation the same data of other Animation 33:
Slot = KAYAK
Animation 33 (you have to add a new animation)
StateId = 4
Next Animation = 4

3) Now you can set in OCB of KAYAK the value 2 to enable your custom animation
Remember that you have no need to use Animation or TestPosition commands, because all management of this custom animation is already handled by TRNG engine, just only you add the OCB 2 in the kayak object.

Remark: if you want build your animation keeping as reference the mesh of the kayak remember that the facing of kayak mesh in wad file is the opposite than that it will have in the game, so you should try to get the position of kayak from a frame of Animation 16 of KAYAK object.

OCB 4 = Accept animations to go on board from land
--------------------------------------------------
Since the kayak, differently than rubber and motor boats, is able to move also on land where you can "park" it on the beach, it should be interesting add animations to go on board when the kayak is on the beach.
To realize this target it's necessary you create the two custom animations and then you enable them adding the 4 ocb value.
For an introduction about the speech of new custom animation to go on board, read also the description of OCB 2.

If you add the animations to go on board from land you'll get also the advantage to be able to go off from boat when it is on the beach.
Differently, when these animations are missing, Lara will be not able to go off from kayak when she is on the beach.

These are the technical infos about the two custom animations to realize:

ENTERING FROM LEFT SIDE ANIMATION

START POSITION
Use the pose of Animation 103 of LARA slot (any frame is good)
About the position the following data are computed like difference respect than Kayak position. These data are compatible with the TestPosition command and if you don't understand them you could read the Animation tutorial you find on http://www.trlevelmanager.eu/ng.htm  page in the Demos section.


XDistance = -280
YDistance = 0
ZDistance = +100

Facing = $4000  (+90 degrees)

FINAL POSITION
Pose and position of frame 176 of animation 3 of KAYAK_LARA slot


ANIMATION EDITOR DATA:
Slot = KAYAK_LARA
Animation 34 (you have to add new animations)
StateId = 4
Next Animation = 4



ENTERING FROM RIGHT SIDE ANIMATION

START POSITION
Use the pose of Animation 103 of LARA slot (any frame is good)
About the position the following data are computed like difference respect than Kayak position. These data are compatible with the TestPosition command and if you don't understand them you could read the Animation tutorial you find on http://www.trlevelmanager.eu/ng.htm  page in the Demos section.


XDistance = +255 (Curiosly this value is different than the 
                 complementar of left side (-280) because the 
                 collision box has an asymmetric position)
YDistance = 0
ZDistance = +100

Facing = $C000  (-90 degrees)

FINAL POSITION
Pose and position of frame 176 of animation 3 of KAYAK_LARA slot


ANIMATION EDITOR DATA:
Slot = KAYAK_LARA
Animation 35 (you have to add new animations)
StateId = 4
Next Animation = 4

KAYAK ANIMATION
You have to add always also an animation in KAYAK slot in same Animation number and with same number of Frames than the KAYAK_LARA animations.

Since the entering from land don't require rolling of the kayak you could use the animation 16 of KAYAK slot, where the kayak is always still, adding the frames to reach same length of animations 34 and 35 in KAYAK_LARA object.

Remark: the trng engine will supply an automatic adjustment to reach the ideal start position before performing your custom animation. This means the position of Lara at begin of your animation it will be always exactly the same respect than kayak.
If you wish you can have an antipation about this start position, adding the OCB 4 in kayak, parking the kayak on the beach and then trying to enter from left or right side. Since in this moment the entering animations are not yet present lara will be stopped immediatly after the alignment phase with the message "missing go-in animation number XX". In this way you can see where is lara respect to kayak when your custom animation should be performed.


OCB 8 = DISABLE NORMAL TRIGGERS
-------------------------------
By default when lara is on the kayak she will engage the normal trigger, enabled normally from Lara.
If you wish disable this activation you can add the value 8 in OCB field, in this way lara on kayak will enage only HEAVY triggers and the normal triggers will be ignored.
This feature could be useful when you want create some damage for lara when she is swimming in the water but you wish also permit to her to avoid this damage when she is on the kayak.

OCB 16 = ENABLE RAPID MIST
--------------------------
This OCB tries to re-enable a feature present in tomb raider 3 but that does't work in native manner in trng engine.
The rapid mist is a white mist used to simulate the waves on the kayak when it is moving down for some slope where, in the reality, there is no water but (furtherly) a waterfall to simulate the water.
The rapid mist works only when the kayak is moving down (its "head" is aiming downstairs) and the floor is closed to kayak.
In other circustances the rapid mist will be always disabled.

OCB 32 = Enable "look around" feature
-------------------------------------
By default in tomb4 engine it's not allowed for Lara looks around when she is driving some vehicle,  anyway if you wish give to lara this chance for kayak just you add value 32 to ocb and Lara will be able to see around to her using as usual the LOOK key.
 

