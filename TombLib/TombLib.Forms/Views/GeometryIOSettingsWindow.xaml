<Window
	x:Class="TombLib.Views.GeometryIOSettingsWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:controls="clr-namespace:DarkUI.WPF.CustomControls;assembly=DarkUI.WPF"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:darkUI="clr-namespace:DarkUI.WPF;assembly=DarkUI.WPF"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:sg="clr-namespace:SpacedGridControl;assembly=SpacedGridControl"
	xmlns:viewModels="clr-namespace:TombLib.Forms.ViewModels;assembly=TombLib.Forms"
	Title="Geometry I/O Settings"
	Width="375"
	Height="375"
	MinWidth="325"
	MinHeight="375"
	d:DataContext="{d:DesignInstance Type=viewModels:GeometryIOSettingsViewModel}"
	Background="{DynamicResource Brush_Background}"
	ResizeMode="CanMinimize"
	Style="{DynamicResource CustomWindowStyle}"
	WindowStartupLocation="CenterScreen"
	mc:Ignorable="d">

	<sg:SpacedGrid Margin="{x:Static darkUI:Defaults.MediumThickness}" RowSpacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>

		<Border BorderBrush="{DynamicResource Brush_Border_Low}" BorderThickness="{x:Static darkUI:Defaults.BorderThickness}">
			<sg:SpacedGrid
				Margin="{x:Static darkUI:Defaults.MediumThickness}"
				ColumnSpacing="{x:Static darkUI:Defaults.MediumThicknessWidth}"
				RowSpacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="*" />
				</Grid.ColumnDefinitions>
				<Grid.RowDefinitions>
					<RowDefinition Height="*" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>

				<sg:SpacedGrid RowSpacing="{x:Static darkUI:Defaults.SmallThicknessWidth}">
					<Grid.RowDefinitions>
						<RowDefinition Height="*" />
						<RowDefinition Height="Auto" />
					</Grid.RowDefinitions>

					<GroupBox Header="Axis">
						<controls:SpacedStack Spacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
							<CheckBox Content="Swap X / Y axes" IsChecked="{Binding SwapXYAxes}" />
							<CheckBox Content="Swap X / Z axes" IsChecked="{Binding SwapXZAxes}" />
							<CheckBox Content="Swap Y / Z axes" IsChecked="{Binding SwapYZAxes}" />
							<CheckBox Content="Invert X axis" IsChecked="{Binding InvertXAxis}" />
							<CheckBox Content="Invert Y axis" IsChecked="{Binding InvertYAxis}" />
							<CheckBox Content="Invert Z axis" IsChecked="{Binding InvertZAxis}" />
							<CheckBox Content="Invert faces" IsChecked="{Binding InvertFaces}" />
						</controls:SpacedStack>
					</GroupBox>

					<GroupBox Grid.Row="1" Header="Size">
						<sg:SpacedGrid ColumnSpacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto" />
								<ColumnDefinition Width="*" />
							</Grid.ColumnDefinitions>

							<Label
								VerticalAlignment="Center"
								Content="Scale:"
								Target="{Binding ElementName=scaleNumericUpDown}" />
							<controls:NumericUpDown
								x:Name="scaleNumericUpDown"
								Grid.Column="1"
								FormatString="F4"
								Increment="0.25"
								Maximum="2048"
								Minimum="0.0001"
								TextAlignment="Left"
								Value="{Binding Scale}" />
						</sg:SpacedGrid>
					</GroupBox>
				</sg:SpacedGrid>

				<sg:SpacedGrid Grid.Column="1" RowSpacing="{x:Static darkUI:Defaults.SmallThicknessWidth}">
					<Grid.RowDefinitions>
						<RowDefinition Height="*" />
						<RowDefinition Height="*" />
					</Grid.RowDefinitions>

					<GroupBox Header="Texture mapping">
						<controls:SpacedStack Spacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
							<CheckBox Content="Invert V coordinate" IsChecked="{Binding InvertVCoordinate}" />
							<CheckBox Content="UV mapped" IsChecked="{Binding UvMapped}" />
							<CheckBox Content="Wrap UV" IsChecked="{Binding WrapUV}" />
							<CheckBox Content="Premultiply UV" IsChecked="{Binding PremultiplyUV}" />
						</controls:SpacedStack>
					</GroupBox>

					<GroupBox Grid.Row="1" Header="Misc">
						<controls:SpacedStack Spacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
							<CheckBox Content="Vertex color light" IsChecked="{Binding VertexColorLight}" />
							<CheckBox Content="Pack textures" IsChecked="{Binding PackTextures}" />
							<CheckBox Content="Pad packed textures" IsChecked="{Binding PadPackedTextures}" />
							<CheckBox Content="Sort by name" IsChecked="{Binding SortByName}" />
						</controls:SpacedStack>
					</GroupBox>
				</sg:SpacedGrid>

				<sg:SpacedGrid
					Grid.Row="1"
					Grid.ColumnSpan="2"
					ColumnSpacing="{x:Static darkUI:Defaults.SmallThicknessWidth}">
					<sg:SpacedGrid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="*" />
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="Auto" />
					</sg:SpacedGrid.ColumnDefinitions>

					<Label
						VerticalAlignment="Center"
						Content="Preset:"
						Target="{Binding ElementName=presetComboBox}" />
					<ComboBox
						x:Name="presetComboBox"
						Grid.Column="1"
						ItemsSource="{Binding Presets}"
						SelectedItem="{Binding SelectedPreset}" />

					<Button
						Grid.Column="2"
						Command="{Binding RenamePresetCommand}"
						Style="{DynamicResource ButtonWithIconOnly}">
						<Image Source="/TombLib.Forms;component/Resources/general_edit-16.png" />
					</Button>
					<Button
						Grid.Column="2"
						Command="{Binding SavePresetCommand}"
						Style="{DynamicResource ButtonWithIconOnly}">
						<Image Source="/TombLib.Forms;component/Resources/general_Save-16.png" />
					</Button>

					<Button
						Grid.Column="3"
						Command="{Binding DeletePresetCommand}"
						Style="{DynamicResource ButtonWithIconOnly}">
						<Image Source="/TombLib.Forms;component/Resources/general_trash-16.png" />
					</Button>
				</sg:SpacedGrid>
			</sg:SpacedGrid>
		</Border>

		<controls:SpacedStack
			Grid.Row="2"
			HorizontalAlignment="Right"
			Orientation="Horizontal"
			Spacing="{x:Static darkUI:Defaults.MediumThicknessWidth}">
			<Button
				Width="80"
				Command="{Binding ConfirmCommand}"
				Content="OK" />
			<Button
				Width="80"
				Command="{Binding CancelCommand}"
				Content="Cancel"
				IsCancel="True"
				IsDefault="True" />
		</controls:SpacedStack>
	</sg:SpacedGrid>
</Window>